(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{63:function(e,t,a){e.exports=a(93)},93:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),c=a.n(o),l=a(27),i=a(22),u=a(15),s=a(51);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p=function(e,t){var a=t.payload;switch(t.type){case"FETCH_INIT":return d({},e,{isLoading:!0,isError:!1,error:null});case"FETCH_SUCCESS":return d({},e,{isLoading:!1,isError:!1,data:a});case"FETCH_FAILURE":return d({},e,{isLoading:!1,isError:!0,error:a});case"SET_DEBOUNCED_QUERY":return d({},e,{query:a.query,currentPage:1});case"SET_PAGE":return d({},e,{currentPage:a});default:throw new Error("Unhandled action type: ".concat(t.type))}},f={query:"",currentPage:1,total:0,lastPage:0,isLoading:!1,isError:!1,data:null,error:null},E=n.a.createContext(f),y=n.a.createContext({dispatch:function(){}}),v=function(){var e=n.a.useContext(E);if(void 0===e)throw new Error("AppContext must be used within an AppProvider");return e},h=function(){var e=n.a.useContext(y);if(void 0===e)throw new Error("AppDispatchContext must be used within an AppProvider");return e},g=function(e){var t=e.children,a=n.a.useReducer(p,f),r=Object(u.a)(a,2),o=r[0],c=r[1];return console.log(o),n.a.createElement(E.Provider,{value:o},n.a.createElement(y.Provider,{value:{dispatch:c}},t))},b=a(33),w=a(127),O=n.a.memo((function(e){var t=e.lastquery,a=void 0===t?"":t,o=h().dispatch,c=Object(r.useState)(a),l=Object(u.a)(c,2),i=l[0],s=l[1],m=function(e,t){var a=Object(r.useState)(e),n=Object(u.a)(a,2),o=n[0],c=n[1];return Object(r.useEffect)((function(){var a=setTimeout((function(){c(e)}),t);return function(){clearTimeout(a)}}),[e,t]),o}(i,300);return Object(r.useEffect)((function(){m&&o({type:"SET_DEBOUNCED_QUERY",payload:{query:m}})}),[m]),n.a.createElement(w.a,{type:"search",label:"Search user",variant:"outlined",value:i,onChange:function(e){return s(e.target.value)},placeholder:"Search GitHub user"})})),j=a(120),C=a(121),P=a(122),k=a(123),S=a(124),x=a(125),T=function(e){var t=e.user;return n.a.createElement(C.a,null,n.a.createElement(P.a,null,n.a.createElement(k.a,{src:t.avatar_url})),n.a.createElement(S.a,{primary:t.login,secondary:"Score: "+t.score}),n.a.createElement(x.a,null,n.a.createElement(l.b,{to:"/user/"+t.login},"more")))},_=n.a.memo((function(e){var t=e.data;return n.a.createElement(j.a,{dense:!0},t&&t.users&&t.users.map((function(e){return n.a.createElement(T,{key:e.id,user:e})})))})),A=a(54),U=a(126),F=function(e){var t=e.onClick,a=e.index,r=e.active?"secondary":"primary";return n.a.createElement(U.a,{size:"small",color:r,onClick:t},a)},L=n.a.memo((function(e){var t=e.links,a=e.currentPage;if(!t)return null;var r=q(t,a),o=h();return n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"}},function(e,t,a){for(var r=a.dispatch,o=[],c=function(t){o.push(n.a.createElement(F,{onClick:function(){return r({type:"SET_PAGE",payload:t})},key:t,index:t,active:t===e}))},l=1;l<=t;l++)c(l);return o}(a,r,o))})),q=function(e,t){if(!e.last)return t;var a=Object(A.parse)(e.last).page;return parseInt(a)},D=a(38),R=a.n(D),W=a(55),H=a(56),I=a.n(H),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(r.useState)(e),a=Object(u.a)(t,2),n=a[0],o=a[1],c=h(),l=c.dispatch;return Object(r.useEffect)((function(){var e=!1;return n&&function(){var t=Object(W.a)(R.a.mark((function t(){var a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l({type:"FETCH_INIT",payload:void 0}),t.prev=1,t.next=4,I()(n);case 4:a=t.sent,e||l({type:"FETCH_SUCCESS",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e||l({type:"FETCH_FAILURE",payload:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[n]),[o]},B=function(e,t){return"".concat("http://localhost:8080","/users?query=").concat(e,"&page=").concat(t)},G=function(e){return"".concat("http://localhost:8080","/user?query=").concat(e)},Q=function(){var e=v(),t=e.query,a=e.currentPage,o=e.isLoading,c=e.isError,l=e.data,i=e.error,s=B(t,a),m=N(),d=Object(u.a)(m,1)[0];return Object(r.useEffect)((function(){t&&d(s)}),[t,a]),n.a.createElement("div",{style:{width:500}},n.a.createElement(b.a,{variant:"h6"},"Welcome to the GitHub User Search App!"),n.a.createElement(O,{lastquery:t}),!l&&!i&&t&&!o&&n.a.createElement(b.a,{variant:"body1"},"No users available for this query."),l&&!o&&n.a.createElement(n.a.Fragment,null,n.a.createElement(b.a,{variant:"body1"},"Query result: ",l.total," users"),n.a.createElement(_,{data:l}),n.a.createElement(L,{currentPage:a,links:l.links})),o&&n.a.createElement(b.a,{variant:"body1"},"loading ..."),c&&n.a.createElement(b.a,{variant:"body1"},i))},J=n.a.memo((function(e){var t=e.data.users[0],a=t.login,r=t.avatar_url,o=t.company,c=t.followers,i=t.following,u=t.name,s=t.location,m=t.bio,d=t.repos_url,p=t.html_url;return n.a.createElement(j.a,{dense:!0},n.a.createElement(C.a,null,n.a.createElement(P.a,null,n.a.createElement(k.a,{src:r}))),n.a.createElement(C.a,null,n.a.createElement(S.a,{primary:"Username: ",secondary:a})),n.a.createElement(C.a,null,n.a.createElement(S.a,{primary:"Name: ",secondary:u})),s&&n.a.createElement(C.a,null,n.a.createElement(S.a,{primary:"Location: ",secondary:u})),n.a.createElement(C.a,null,n.a.createElement(S.a,{primary:"Profile: ",secondary:u})),n.a.createElement(C.a,null,n.a.createElement("a",{href:p},n.a.createElement(S.a,{primary:"Github url: ",secondary:p}))),n.a.createElement(C.a,null,n.a.createElement("a",{href:d},n.a.createElement(S.a,{primary:"Repos url: ",secondary:d}))),o&&n.a.createElement(C.a,null,n.a.createElement(S.a,{primary:"Company: ",secondary:o})),m&&n.a.createElement(C.a,null,n.a.createElement(S.a,{primary:"Bio: ",secondary:m})),n.a.createElement(C.a,null,n.a.createElement(S.a,{primary:"Followers: ",secondary:c})),n.a.createElement(C.a,null,n.a.createElement(S.a,{primary:"Following: ",secondary:i})),n.a.createElement(C.a,null,n.a.createElement(l.b,{to:"/"},"back")))})),Y=function(e){var t=e.login,a=v(),o=a.data,c=a.isError,l=a.isLoading,i=a.error,s=G(t),m=N(s),d=Object(u.a)(m,1)[0];return Object(r.useEffect)((function(){d(s)}),[t]),n.a.createElement(n.a.Fragment,null,o&&!l&&!c&&n.a.createElement(J,{data:o}),l&&n.a.createElement(b.a,{variant:"body1"},"loading ..."),c&&n.a.createElement(b.a,{variant:"body1"},i))},z=function(){return n.a.createElement(l.a,null,n.a.createElement(g,null,n.a.createElement(i.a,{path:"/user/:login",render:function(e){var t=e.match;return n.a.createElement(Y,{login:t.params.login})}}),n.a.createElement(i.a,{path:"/users",component:Q}),n.a.createElement(i.a,{exact:!0,path:"/",component:Q})))},$=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(n.a.createElement(z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");$?(!function(e,t){fetch(e).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(t,e)}))}}()}},[[63,1,2]]]);
//# sourceMappingURL=main.686ca4d6.chunk.js.map