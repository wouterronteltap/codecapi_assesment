(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{63:function(e,t,n){e.exports=n(93)},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),c=n.n(o),l=n(26),i=n(22),u=n(15),s=n(51);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t){var n=t.payload;switch(t.type){case"FETCH_INIT":return p({},e,{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return p({},e,{isLoading:!1,isError:!1,data:n});case"FETCH_FAILURE":return p({},e,{isLoading:!1,isError:!0});case"SET_DEBOUNCED_QUERY":return p({},e,{query:n.query,currentPage:1});case"SET_PAGE":return p({},e,{currentPage:n});default:throw new Error("Unhandled action type: ".concat(t.type))}},f={query:"",currentPage:1,total:0,lastPage:0,isLoading:!1,isError:!1},E=r.a.createContext(f),v=r.a.createContext({dispatch:function(){}}),y=function(){var e=r.a.useContext(E);if(void 0===e)throw new Error("AppContext must be used within an AppProvider");return e},h=function(){var e=r.a.useContext(v);if(void 0===e)throw new Error("AppDispatchContext must be used within an AppProvider");return e},g=function(e){var t=e.children,n=r.a.useReducer(d,f),a=Object(u.a)(n,2),o=a[0],c=a[1];return console.log(o),r.a.createElement(E.Provider,{value:o},r.a.createElement(v.Provider,{value:{dispatch:c}},t))},w=n(33),b=n(127),O=r.a.memo((function(e){var t=e.lastquery,n=void 0===t?"":t,o=h().dispatch,c=Object(a.useState)(n),l=Object(u.a)(c,2),i=l[0],s=l[1],m=function(e,t){var n=Object(a.useState)(e),r=Object(u.a)(n,2),o=r[0],c=r[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){c(e)}),t);return function(){clearTimeout(n)}}),[e,t]),o}(i,300);return Object(a.useEffect)((function(){m&&o({type:"SET_DEBOUNCED_QUERY",payload:{query:m}})}),[m]),r.a.createElement(b.a,{type:"search",label:"Search user",variant:"outlined",value:i,onChange:function(e){return s(e.target.value)},placeholder:"Search GitHub user"})})),j=n(120),C=n(121),P=n(122),S=n(123),k=n(124),x=n(125),T=function(e){var t=e.user;return r.a.createElement(C.a,null,r.a.createElement(P.a,null,r.a.createElement(S.a,{src:t.avatar_url})),r.a.createElement(k.a,{primary:t.login,secondary:"Score: "+t.score}),r.a.createElement(x.a,null,r.a.createElement(l.b,{to:"/user/"+t.login},"more")))},_=r.a.memo((function(e){var t=e.data;return r.a.createElement(j.a,{dense:!0},t&&t.users&&t.users.map((function(e){return r.a.createElement(T,{key:e.id,user:e})})))})),A=n(54),U=n(126),F=function(e){var t=e.onClick,n=e.index,a=e.active?"secondary":"primary";return r.a.createElement(U.a,{size:"small",color:a,onClick:t},n)},q=r.a.memo((function(e){var t=e.links,n=e.currentPage;if(!t)return null;var a=L(t,n),o=h();return r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"}},function(e,t,n){for(var a=n.dispatch,o=[],c=function(t){o.push(r.a.createElement(F,{onClick:function(){return a({type:"SET_PAGE",payload:t})},key:t,index:t,active:t===e}))},l=1;l<=t;l++)c(l);return o}(n,a,o))})),L=function(e,t){if(!e.last)return t;var n=Object(A.parse)(e.last).page;return parseInt(n)},D=n(38),R=n.n(D),W=n(55),H=n(56),I=n.n(H),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(a.useState)(e),n=Object(u.a)(t,2),r=n[0],o=n[1],c=h(),l=c.dispatch;return Object(a.useEffect)((function(){var e=!1;return r&&function(){var t=Object(W.a)(R.a.mark((function t(){var n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l({type:"FETCH_INIT",payload:void 0}),t.prev=1,t.next=4,I()(r);case 4:n=t.sent,e||l({type:"FETCH_SUCCESS",payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e||l({type:"FETCH_FAILURE",payload:void 0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[r]),[o]},B=function(e,t){return"".concat("http://localhost:8080","/users?query=").concat(e,"&page=").concat(t)},G=function(e){return"".concat("http://localhost:8080","/user?query=").concat(e)},Q=function(){var e=y(),t=e.query,n=e.currentPage,o=e.isLoading,c=e.isError,l=e.data,i=B(t,n),s=N(),m=Object(u.a)(s,1)[0];return Object(a.useEffect)((function(){t&&m(i)}),[t,n]),r.a.createElement("div",{style:{width:500}},r.a.createElement(w.a,{variant:"h6"},"Welcome to the GitHub User Search App!"),r.a.createElement(O,{lastquery:t}),!l&&t&&!o&&r.a.createElement(w.a,{variant:"body1"},"No users available for this query."),l&&!o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"body1"},"Query result: ",l.total," users"),r.a.createElement(_,{data:l}),r.a.createElement(q,{currentPage:n,links:l.links})),o&&r.a.createElement("h1",null,"loading ..."),c&&r.a.createElement("h1",null,"Something went wrong"))},J=r.a.memo((function(e){var t=e.user,n=t.login,a=t.avatar_url,o=t.company,c=t.followers,i=t.following,u=t.name,s=(t.location,t.bio),m=(t.blog,t.repos_url),p=t.html_url;return r.a.createElement(j.a,{dense:!0},r.a.createElement(C.a,null,r.a.createElement(P.a,null,r.a.createElement(S.a,{src:a}))),r.a.createElement(C.a,null,r.a.createElement(k.a,{primary:"Username: ",secondary:n})),r.a.createElement(C.a,null,r.a.createElement(k.a,{primary:"Name: ",secondary:u})),r.a.createElement(C.a,null,r.a.createElement(k.a,{primary:"Profile: ",secondary:u})),r.a.createElement(C.a,null,r.a.createElement("a",{href:p},r.a.createElement(k.a,{primary:"Github url: ",secondary:p}))),r.a.createElement(C.a,null,r.a.createElement("a",{href:m},r.a.createElement(k.a,{primary:"Repos url: ",secondary:m}))),o&&r.a.createElement(C.a,null,r.a.createElement(k.a,{primary:"Company: ",secondary:o})),s&&r.a.createElement(C.a,null,r.a.createElement(k.a,{primary:"Bio: ",secondary:s})),r.a.createElement(C.a,null,r.a.createElement(k.a,{primary:"Followers: ",secondary:c})),r.a.createElement(C.a,null,r.a.createElement(k.a,{primary:"Following: ",secondary:i})),r.a.createElement(C.a,null,r.a.createElement(l.b,{to:"/"},"back")))})),Y=function(e){var t=e.login,n=y(),o=n.data,c=n.isError,l=n.isLoading,i=G(t),s=N(i),m=Object(u.a)(s,1)[0];return Object(a.useEffect)((function(){m(i)}),[t]),r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(J,{user:o}),l&&r.a.createElement("h1",null,"loading ..."),c&&r.a.createElement("h1",null,"Something went wrong"))},z=function(){return r.a.createElement(l.a,null,r.a.createElement(g,null,r.a.createElement(i.a,{path:"/user/:login",render:function(e){var t=e.match;return r.a.createElement(Y,{login:t.params.login})}}),r.a.createElement(i.a,{path:"/users",component:Q}),r.a.createElement(i.a,{exact:!0,path:"/",component:Q})))},$=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");$?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(t,e)}))}}()}},[[63,1,2]]]);
//# sourceMappingURL=main.a29bff17.chunk.js.map